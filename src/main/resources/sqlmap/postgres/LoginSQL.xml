<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- namespace=com.shoppingmall.admin.repository.MemberMapper -->
<mapper namespace="LoginSQL"> 
	<select id="LoginSQL.countUserInfo" resultType="int" >
		/* SQL ID : LoginSQL.countUserInfo  */
		<![CDATA[
			SELECT COUNT(*)
			FROM tb_member
			WHERE ID = #{userid} AND PW = #{userpw}
			
		]]>
	</select>
	<select id="LoginSQL.getOneUserInfo" parameterType="dataMap"  resultType="dataMap">
		/* SQL ID: LoginSQL.countUserInfo  */
		<![CDATA[
			SELECT 
				*
			FROM 
				tb_member
		    WHERE
		    	ID = #{id}
			
		]]>
		
	</select>
	<!--사용자 메뉴 권한 -->
	<select id="LoginSQL.getUserMenuByUsertype">
		/* SQL ID: LoinSQL.getUserMenuByUsertype*/

		<![CDATA[
			SELECT	tm.menu_id
				,	tm.menu_name
				,	tm.menu_parent_id
				,	tm.menu_url
				,	tm.depth
				, 	tm.auth_seqno  	
									
			FROM tb_menu tm
			WHERE EXISTS(
							SELECT 1
							FROM tb_menu_auth tma
							WHERE tm.menu_id = tma.menu_id AND tm.member_type = #{member_type}
									 	
						) 
				AND tm.depth = 0
			ORDER BY tm.menu_seqno	
			
		]]>
	</select>
	<!--  사용자 자식 메뉴 권한 -->
	<select id="LoinSQL." >
	
	</select>
	
	
</mapper>